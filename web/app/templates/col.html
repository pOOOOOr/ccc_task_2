{% extends 'base.html' %}
{% block head %}
    <script type="text/javascript">
        google.load("visualization", "1.1", {packages: ["bar"]});
        google.setOnLoadCallback(drawStuff);

        function drawStuff() {
            var jsonData = $.ajax({
                url: "{{ url_for('col_data') }}",
                dataType: "json",
                async: false
            }).responseText;

            var options = {
                series: {
                    0: {axis: 'distance'},
                    1: {axis: 'brightness'}
                },
                axes: {
                    y: {
                        distance: {label: 'parsecs'},
                        brightness: {side: 'right', label: 'apparent magnitude'}
                    }
                }
            };

            var data = new google.visualization.DataTable(jsonData);
            var chart = new google.charts.Bar(document.getElementById('chart_div'));
            chart.draw(data, options);
        }
    </script>{% endblock %}
{% block body %}
    <div id="chart_div" style="width: 900px; height: 500px;"></div>
{% endblock %}